<!--
  Generated template for the Man32002SelectPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content padding>
  <ion-grid no-padding>
    <ion-list no-padding *ngIf="digr01">
      <div class="title-components" padding=""><span class="title-com-sub">{{man32001.bxmap.dign_gbn_nm}}<span *ngIf="man32001.bxmap.regular_gbn_nm">({{man32001.bxmap.regular_gbn_nm}})</span></span></div>
      <ion-item class="ion-line-item">
        <ion-label item-title>점검진단구분</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.dign_gbn_nm}}<span *ngIf="digr01.bxmap.regular_gbn_nm">({{digr01.bxmap.regular_gbn_nm}})</span></ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>점검진단기간</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.start_ymd | dateFormatPipe:'YYYYMMDD':'longDate'}} ~ {{digr01.bxmap.end_ymd | dateFormatPipe:'YYYYMMDD':'longDate'}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>점검진단기관명</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.dign_corp_nm_arr}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>책임기술자명</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.rep_engineer_nm}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>비용</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.dign_amt}} 천원(VAT포함)</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>안전등급</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.state_grade_nm}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>주요 점검진단결과</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.dign_content}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>주요 보수보강(안)</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.amend_content}}</ion-label>
      </ion-item>
      <!-- 기존 로직 적용 -->
      <ion-item class="ion-line-item" *ngIf="isVent && ventArray.length > 0">
        <ion-label item-title>환기구(덮개 등)</ion-label>
        <ion-label item-end text-right item-title *ngIf="ventArray[0] == 'Y'">{{(ventArray[2] == 'Y') ? '보수필요' : '보수불필요'}} {{ventArray[1]}}</ion-label>
        <ion-label item-end text-right item-title *ngIf="ventArray[0] != 'Y'">[없음] {{ ventArray[1] }}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item" *ngIf="digr01.bxmap.dign4_need_yn == 'Y'">
        <ion-label item-title>특기사항</ion-label>
        <ion-label item-end text-right item-title>재해 및 재난예방과 시설물의 안전성 확보 등을 위하여 정밀안전진단 필요({{ end_ymd | dateFormatPipe:'YYYYMMDD':'longDate'}} 이내)</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>작성일자</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.wrt_ymd | dateFormatPipe:'YYYYMMDD':'longDate'}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>작성자명</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.wrt_person_nm}}</ion-label>
      </ion-item>
      <ion-item class="ion-line-item">
        <ion-label item-title>승인상태</ion-label>
        <ion-label item-end text-right item-title>{{digr01.bxmap.sign_status_nm}}</ion-label>
      </ion-item>

    </ion-list>

    <ion-list *ngIf="digr12List">
      <div class="title-components" padding=""><span class="title-com-sub">중대결함</span></div>
      <ion-item class="ion-line-item" *ngFor="let digr12 of digr12List" >
        <h2 item-subtitle>{{digr12.bxmap.object_no}}</h2>
        <h2 item-subtitle>{{digr12.bxmap.serious_defect_nm}}</h2>
      </ion-item>
    </ion-list>

    <ion-list *ngIf="digr12List">
      <div class="title-components" padding=""><span class="title-com-sub">책임(참여)기술자 현황</span></div>
      <ion-item class="ion-line-item" *ngFor="let digr11 of digr11List" >
        <h2 item-subtitle>책임기술자 여부 : {{ (digr11.bxmap.rep_yn == 'Y') ? '예':'아니오' }}</h2>
        <h2 item-subtitle>성명 : {{digr11.bxmap.engineer_nm}}</h2>

        <!-- <h3 card-subtitle>책임기술자 여부 : <span class="example-h3">{{digr11.rep_yn | questionableBooleanPipe}}</span></h3>
        <h3 card-subtitle>참여일수 : <span class="example-h3">{{digr11.parti_days}} 일</span></h3>
        <h3 card-subtitle>참여율 : <span class="example-h3">{{digr11.parti_rate}} %</span></h3>
        <h3 card-subtitle>기술등급 : <span class="example-h3">{{digr11.tech_grade_nm}}</span></h3> -->
      </ion-item>
    </ion-list>
  </ion-grid>
</ion-content>
